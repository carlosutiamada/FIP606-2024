{
  "hash": "9a87b77d8cff58ffb2aab07a443e280c",
  "result": {
    "markdown": "---\ntitle: \"Correlação\"\nformat: html\nmessage: false\nwarning: false\n---\n\n\n# Correlação\n\nA correlação representa a associação entre duas variáveis respostas. As variáveis podem estar dissociadas ou apresentar associação fraca ou forte. O teste de correlação permite determinar qual é a correlação entre as as variáveis-resposta (uma por uma e de todas juntos).\n\nQuanto menos dispersos os dados, mais forte será a correlação entre duas variáveis.\n\n**R (coeficiente de correlação de Pearson)**: varia entre -1 e 1, sendo que < 0 uma correlação negativa e > 0 uma correlação positiva. Quanto mais próximo de 1 ou -1, mais forte é a correlação.\n\nCorrelação =/= casualidade (na casualidade não existe uma verdadeira correlação entre elas de causa-efeito, é uma correlação espúria)\n\n::: {.callout-important}\nDiferente de **regressão**. Regressão é pra predizer que Y é em função de X. Usam o coeficiente de determinação R-quadrado.\n:::\n\n## Importação dos dados\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gsheet)\nlibrary(dplyr)\n\nimgs <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=373270992\")\n```\n:::\n\n\n## Visualização dos dados\n\nUm gráfico de boxplot foi criado para visualizar a distribuição e a variabilidade dos dados.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimgs |> \n  pivot_longer(3:5, names_to = \"method\",\n               values_to = \"value\") |> \n  ggplot(aes(method, value))+\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nPosteriormente foram criados gráficos de dispersão entre cada variáveis respostas para visualizar se existe alguma correlação entre elas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimgs |> \n  ggplot(aes(Assess, LeafDoctor))+\n  geom_point()+\n  geom_smooth(method = \"lm\")\n```\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nimgs |> \n  ggplot(aes(Assess, ImageJ))+\n  geom_point()+\n  geom_smooth(method = \"lm\")\n```\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n\n```{.r .cell-code}\nimgs |> \n  ggplot(aes(LeafDoctor, ImageJ))+\n  geom_point()+\n  geom_smooth(method = \"lm\")\n```\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-3-3.png){width=672}\n:::\n:::\n\n\n## Teste de Correlação\n\nO teste de correlação entre as variáveis pode ser executada usando a função `cor()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor(imgs$Assess, imgs$LeafDoctor) #Dá o valor do coeficiente de correlação\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.9666367\n```\n:::\n:::\n\n\nO teste fornece o coeficiente de correlação, sendo igual a 0.966, indicando uma correlação positiva e forte.\n\nOutro teste pode ser realizado usando a função `cor.test()`. Essa função fornece um teste mais completo, com informações do coeficiente de correlação, intervalo de confiança e p-valor (Ho: coeficiente de relação = 0)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor.test(imgs$Assess, imgs$LeafDoctor)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's product-moment correlation\n\ndata:  imgs$Assess and imgs$LeafDoctor\nt = 31.119, df = 68, p-value < 2.2e-16\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n 0.9466882 0.9792005\nsample estimates:\n      cor \n0.9666367 \n```\n:::\n:::\n\n\n## Usando o pacote AgroR\n\nNo pacote `AgroR`, pode ser usado a função `corgraph()` que fornece a matriz de correlação, com dados do coeficiente de correlação e a significância entre cada variável.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimgs2 <- imgs[, c(\"Assess\", \"LeafDoctor\", \"ImageJ\")]\n\nlibrary(AgroR)\ncorgraph(imgs2) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        Var1       Var2       cor            p\n2 LeafDoctor     Assess 0.9666367 5.972544e-42\n3     ImageJ     Assess 0.9776918 8.143613e-48\n6     ImageJ LeafDoctor 0.9797478 3.144091e-49\n```\n:::\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nAtravés da matriz, percebe-se que a correlação entre as três variáveis respostas é forte.\n\nOutra alternativa de função é a `corrplot()` do pacote `corrplot`, que também fornece uma matriz de correlação.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(corrplot)\ncor_imgs2 <- cor(imgs2)\ncorrplot(cor_imgs2, method = \"number\", type = \"lower\")\n```\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncorrplot(cor_imgs2, method = \"circle\", type = \"lower\")\n```\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n:::\n\n\n# Correlação - conjunto de dados 2\n\n## Importação dos dados\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncampo <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=866852711\")\n```\n:::\n\n\nDo conjunto de dados acima, foram selecionados apenas as informações sobre as variáveis respostas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncampo2 <- campo[, c(\"DFC\", \"FER\", \"PROD\")]\n```\n:::\n\n\nFoi realizada a função `corgraph()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorgraph(campo2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Var1 Var2        cor            p\n2  FER  DFC  0.9316978 9.864101e-15\n3 PROD  DFC -0.6928161 1.110652e-05\n6 PROD  FER -0.6258321 1.277444e-04\n```\n:::\n\n::: {.cell-output-display}\n![](Aula10_quarto_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nObserva-se que a PROD está mais fortemente correlacionada a DFC (associação negativa).\nA DFC e a FER estão associadas positivamente\n\n",
    "supporting": [
      "Aula10_quarto_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}